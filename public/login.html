<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Login • UNHINGED</title>
<link rel="stylesheet" href="./style.css">
</head><body>
<main class="wrap" style="max-width:440px">
  <h1>Log in</h1>
  <form id="loginForm">
    <label>Email</label><input id="lemail" type="email" required>
    <label>Password</label><input id="lpass" type="password" required minlength="6">
    <button type="submit">Log in</button>
    <p id="lmsg"></p>
  </form>
  <p>No account? <a href="./signup.html">Create one</a></p>
</main>
<script type="module">
import { auth } from "./js/firebase.js";
import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const $ = (id)=>document.getElementById(id);
const form = $("loginForm"), email=$("lemail"), pass=$("lpass"), msg=$("lmsg");

form.addEventListener("submit", async (e)=>{
  e.preventDefault();
  msg.textContent = "Signing in…";
  try{
    await signInWithEmailAndPassword(auth, email.value.trim(), pass.value);
    location.replace("./profile.html");
  }catch(err){
    msg.textContent = err?.message || "Login failed";
  }
});
</script>
</body></html>
