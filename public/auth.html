<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>UNHINGED — Sign In / Sign Up</title>
  <link rel="stylesheet" href="./style.css">
  <style>
    body{background:#0f0f12;color:#fff;font:500 16px/1.5 Inter,system-ui}
    .wrap{max-width:460px;margin:0 auto;padding:24px}
    .card{background:#15161b;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px}
    label{display:block;margin:10px 0 6px;color:#dadbe7}
    input{width:100%;padding:12px;border-radius:10px;border:1px solid #2a2a2a;background:#0c0c0c;color:#fff}
    .btn{padding:12px 14px;border-radius:12px;border:0;font-weight:900;cursor:pointer}
    .btn.red{background:#E11D2A;color:#fff}
    .row{display:flex;gap:10px;margin-top:10px}
    .link{color:#ddd;text-decoration:none}
    .note{margin-top:10px;color:#bdbdcc;font-size:13px}
  </style>
</head>
<body>
<div class="wrap">
  <h1>Sign in to Unhinged</h1>
  <div class="card">
    <label>Email</label>
    <input id="email" type="email" placeholder="you@email.com" required>
    <label>Password</label>
    <input id="pw" type="password" placeholder="••••••••" required>
    <div class="row">
      <button id="signin" class="btn red" type="button">Sign In</button>
      <button id="signup" class="btn" type="button">Create account</button>
      <a id="reset" class="link" href="#" style="margin-left:auto">Forgot?</a>
    </div>
    <div id="msg" class="note">Ready.</div>
  </div>
</div>

<!-- Firebase + auth helpers -->
<script type="module" src="./js/firebase.js"></script>
<script type="module">
  import { doLogin, doSignup } from "./js/auth.js";
  const $ = (id)=>document.getElementById(id), msg = $("msg");

  $("signin").onclick = async ()=>{
    msg.textContent = "Signing in…";
    try{ await doLogin($("email").value.trim(), $("pw").value); location.href = "./profile.html"; }
    catch(e){ msg.textContent = e.message || "Login failed"; }
  };

  $("signup").onclick = async ()=>{
    msg.textContent = "Creating account…";
    try{
      const email = $("email").value.trim();
      const pass  = $("pw").value;
      await doSignup("", email, pass);
      location.href = "./profile.html";
    }catch(e){ msg.textContent = e.message || "Signup failed"; }
  };

  $("reset").onclick = (e)=>{
    e.preventDefault();
    msg.textContent = "Use the app’s reset flow (coming soon).";
  };
</script>
</body></html>
